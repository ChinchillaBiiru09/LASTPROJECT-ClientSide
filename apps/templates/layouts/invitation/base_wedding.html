<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>{{ data['invitation']['invitation_title'] }}</title>
		<link rel="icon" type="image/png" sizes="64x64" href="{{ url_for('static', filename='assets/images/ic_tab.png') }}">
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
		<!-- font -->
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Sacramento&family=Work+Sans:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css2?family=Playwrite+VN:wght@100..400&display=swap" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Satisfy&display=swap" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playwrite+CZ:wght@100..400&family=Playwrite+NL:wght@100..400&family=Satisfy&display=swap" rel="stylesheet">
		<!-- Simply Countdown -->
		<script src="{{ data['invitation']['template_js'] }}"></script>
		<!-- icons -->
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
		<!-- css -->
		<link rel="stylesheet" href="{{ data['invitation']['template_css'] }}">
	</head>
	<body>
		<!-- Hero -->
		<section id="hero" class="hero w-100 h-100 p-3 mx-auto text-center d-flex justify-content-center align-items-center text-white" style="background-image: url('{{background1_url}}'); background-size: cover; background-position: center;">
			<main>
				<h4>Kepada Bapak/Ibu/Saudara/i,</h4>
				<h1>{{ data['invitation']['personal_data']['man_name'].title() }} & {{ data['invitation']['personal_data']['woman_name'].title() }}</h1>
				<p>Akan melaksanakan resepsi pernikahan dalam:</p>
				<div class="simply-countdown" data-years="{{ data['invitation']['detail_info']['reception_start']['year'] }}" data-months="{{ data['invitation']['detail_info']['reception_start']['no_month'] }}" data-days="{{ data['invitation']['detail_info']['reception_start']['dates'] }}" data-hours="{{ data['invitation']['detail_info']['reception_start']['hour'] }}" data-minutes="{{ data['invitation']['detail_info']['reception_start']['minute'] }}"></div>
				<a href="#home" class="btn btn-lg mt-4 show-invitation" data-codes="{{ data['invitation']['invitation_code'] }}" onclick="enableScroll()">Lihat Undangan</a>
			</main>
		</section>
		<!-- End Hero -->

		<!-- Navbar -->
		<nav class="navbar navbar-expand-md bg-transparent sticky-top mynav">
			<div class="container">
				<a class="navbar-brand" href="#">{{ data['invitation']['personal_data']['man_name'].title() }}{{ data['invitation']['personal_data']['woman_name'].title() }}</a>
				<button class="navbar-toggler border-0" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
					<div class="offcanvas-header">
						<h5 class="offcanvas-title" id="offcanvasNavbarLabel">{{ data['invitation']['personal_data']['man_name'].title() }}{{ data['invitation']['personal_data']['woman_name'].title() }}</h5>
						<button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
					</div>
					<div class="offcanvas-body">
						<div class="navbar-nav ms-auto">
							<a class="nav-link" href="#home">Home</a>
							<a class="nav-link" href="#info">Info</a>
							<!-- <a class="nav-link" href="#story">Story</a>
							<a class="nav-link" href="#gallery">Gallery</a> -->
							<a class="nav-link" href="#rsvp">RSVP</a>
							<!-- <a class="nav-link" href="#gifts">Gifts</a> -->
						 </div>
					</div>
				</div>
			</div>
		</nav>
		<!-- End Navbar -->

		<!-- Home -->
		<section id="home" class="home" style="background-image: url('{{background2_url}}');">
			<div class="container">
				<div class="row justify-content-center">
					<div class="col-md-8 text-center">
						<h2>Acara Pernikahan</h2>
						<h3>Diselenggarakan pada {{ data['invitation']['detail_info']['reception_start']['dates'] }} {{ data['invitation']['detail_info']['reception_start']['fullmonth'] }} {{ data['invitation']['detail_info']['reception_start']['year'] }} di {{ data['invitation']['detail_info']['location'] }}</h3>
						<p>Oleh karena itu, dengan sekgala hormat, kami mengundang Bapak/Ibu/Saudara/i, untuk hadir pada acara pernikahan kami</p>
					</div>
				</div>
				<div class="row couple">
					<!-- Man -->
					<div class="col-lg-6">
						<div class="row">
							<div class="col-8 text-end">
								<h3>{{ data['invitation']['personal_data']['man_fullname'].title() }}</h3>
								<p>{{ data['invitation']['personal_data']['man_address'] }}</p>
								<p>Putra ke {{ data['invitation']['personal_data']['son_no'] }} dari 
									Bpk. {{ data['invitation']['personal_data']['mans_dad'].title() }} {% if data['invitation']['personal_data']['man_dad_status'] != 0 %} (Alm) {% endif %}
									<br>&<br> 
									Ibu {{ data['invitation']['personal_data']['mans_mom'].title() }} {% if data['invitation']['personal_data']['man_mom_status'] != 0 %} (Almh) {% endif %}</p>
							</div>
							<div class="col-4">
								<img src="{{ data['invitation']['personal_data']['mans_photo']}}" alt="{{ data['invitation']['personal_data']['man_fullname'] }}" class="img-responsive rounded-circle">
							</div>
						</div>
					</div>
					<!-- End Man -->

					<span class="heart"><i class="bi bi-heart-fill"></i></span>

					<!-- Woman -->
					<div class="col-lg-6">
						<div class="row">
							<div class="col-4">
								<img src="{{ data['invitation']['personal_data']['womans_photo'] }}" alt="{{ data['invitation']['personal_data']['woman_fullname'] }}" class="img-responsive rounded-circle">
							</div>
							<div class="col-8">
								<h3>{{ data['invitation']['personal_data']['woman_fullname'].title() }}</h3>
								<p>{{ data['invitation']['personal_data']['woman_address'] }}</p>
								<p>Putri ke {{ data['invitation']['personal_data']['daughter_no'] }} dari 
									Bpk. {{ data['invitation']['personal_data']['womans_dad'].title() }} {% if data['invitation']['personal_data']['woman_dad_status'] != 0 %} (Alm) {% endif %}
									 <br>&<br> 
									 Ibu {{ data['invitation']['personal_data']['womans_mom'].title() }} {% if data['invitation']['personal_data']['woman_mom_status'] != 0 %} (Almh) {% endif %}</p>
							</div>
						</div>
					</div>
					<!-- End Woman -->
				</div>
			</div>
		</section>
		<!-- End Home -->

		<!-- Info -->
		<section id="info" class="info">
			<div class="container">
				<div class="row justify-content-center">
					<div class="col-md-8 col-10 text-center">
						<h2>Informasi Acara</h2>
						<!-- <p class="alamat">Alamat: Gedung Kologdam, Kodiklat TNI AD. <br> Jl. Aceh, Merdeka, Kec. Sumur Bandung, Bandung</p> -->
						<p class="alamat">Alamat: {{ data['invitation']['detail_info']['location'] }}</p>
						<a href="{{ data['invitation']['detail_info']['maps'] }}" target="_blank" class="btn btn-light btn-sm my-3"><i class="bi bi-geo-alt-fill"></i> Lihat Lokasi</a>
						<p class="description">Diharapkan untuk tidak salah alamat dan tanggal. Manakala tiba di tujuan namun tidak ada tanda-tanda sedang dilangsungkan pernikahan, boleh jadi Anda salah jadwal atau salah tempat.</p>
					</div>
				</div>

				<div class="row justify-content-center mt-4">
					<div class="col-md-5 col-10">
						<div class="card text-center text-bg-light mb-5">
							<div class="card-header">Akad Nikah</div>
							<div class="card-body">
								<div class="row justify-content-center">
									<div class="col-md-6">
										<i class="bi bi-alarm d-block"></i>
										<span>
											{{ data['invitation']['detail_info']['marriage_start']['time'] }} - 
											{% if data['invitation']['detail_info']['marriage_end'] != 1 %} 
												{{ data['invitation']['detail_info']['marriage_end']['time'] }} 
											{% else %} Selesai {% endif %}
										</span>
									</div>
									<div class="col-md-6">
										<i class="bi bi-calendar3 d-block"></i>
										<span>
											{{ data['invitation']['detail_info']['marriage_start']['day'] }}, 
											{{ data['invitation']['detail_info']['marriage_start']['date'] }}
										</span>
									</div>
								</div>
							</div>
							<div class="card-footer">
								Saat acara akad diharapkan untuk kondusif menjaga kekhidmatan dan kekhusyuan seluruh prosesi.
							</div>
						</div>
					</div>

					<div class="col-md-5 col-10">
						<div class="card text-center text-bg-light">
							<div class="card-header">Resepsi</div>
							<div class="card-body">
								<div class="row justify-content-center">
									<div class="col-md-6">
										<i class="bi bi-alarm d-block"></i>
										<span>
											{{ data['invitation']['detail_info']['reception_start']['time'] }} - 
											{% if data['invitation']['detail_info']['reception_end'] != 1 %} 
												{{ data['invitation']['detail_info']['reception_end']['time'] }} 
											{% else %} Selesai {% endif %}
										</span>
									</div>
									<div class="col-md-6">
										<i class="bi bi-calendar3 d-block"></i>
										<span>
											{{ data['invitation']['detail_info']['reception_start']['day'] }}, 
											{{ data['invitation']['detail_info']['reception_start']['date'] }}
										</span>
									</div>
								</div>
							</div>
							<div class="card-footer">
								Saat acara akad diharapkan untuk kondusif menjaga kekhidmatan dan kekhusyuan seluruh prosesi.
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>
		<!-- End Info -->

		<!-- RSVP -->
		 <section id="rsvp" class="rsvp">
			<div class="container">
				<div class="row justify-content-center">
					<div class="col-md-8 col-10 text-center">
						<h2>Komentar</h2>
						<p>Mohon do'a restu</p>
					</div>
				</div>

				<form class="row g-3 align-items-center justify-content-center" action="{{ url_for('greeting.add_proccess') }}" method="post">
					<!-- <input type="hidden" class="form-control" id="tem_id" name="tem_id" value="{{ data['invitation']['template_id'] }}">
					<input type="hidden" class="form-control" id="inv_id" name="inv_id" value="{{ data['invitation']['invitation_id'] }}"> -->
					<input type="hidden" class="form-control" id="inv_code" name="inv_code" value="{{ data['invitation']['invitation_code'] }}">
					<input type="hidden" class="form-control" id="inv_link" name="inv_link" value="{{ data['invitation']['invitation_link'] }}">
					<div class="col-lg-auto">
						<div class="row">
							<div class="col-6">
								<div class="mb-4">
									<label for="name" class="form-label">Nama*</label>
									<input type="text" class="form-control" id="name" name="name">
								</div>
							</div>
							<div class="col-6">
								<div class="mb-4">
									<label for="status" class="form-label">Konfirmasi*</label>
									<select name="status" id="status" class="form-select">
										<option value="none" selected>Pilih Salah Satu</option>
										<option value="1">Hadir</option>
										<option value="0">Tidak Hadir</option>
									</select>
								</div>
							</div>
						</div>
						<div class="col-12">
							<div class="mb-3">
								<label for="greeting" class="form-label">Ucapan & Doa*</label>
								<textarea type="text" class="form-control" id="greeting" name="greeting"></textarea>
								<small style="color:rgba(255, 255, 255, 0.5); font-size: 12px;">*Ketikkan tanda (-) jika ingin mengosongkan pesan</small>
							</div>
						 </div>
						<div class="col-12">
							<button type="submit" class="btn btn-primary">Kirim</button>
						</div>
					</div>
				</form>
			</div>
		 </section>
		<!-- End RSVP -->

		<!-- Gifts -->
		<!-- <section id="gifts" class="gifts">
			<div class="container">
				<div class="row justify-content-center">
					<div class="col-md-8 col-10 text-center">
						<span>ungakapan tanda kasih</span>
						<h2>Kirim Hadiah</h2>
						<p>Doa dan pesan untuk kami</p>
					</div>
				</div>

				<div class="row justify-content-center text-center">
					<div class="col-md-6">
						<ul class="list-group">
							<li class="list-group-item">
								<div class="fw-bold">BCA</div>
								1234567890 - SAYA
							</li>
							<li class="list-group-item">
								<div class="fw-bold">BRI</div>
								0987654321 - SAYA
							</li>
							<li class="list-group-item">
								<div class="fw-bold">QR Code</div>
								<img src="" alt="qr-code">
							</li>
						</ul>
					</div>
				</div>
			</div>
		</section> -->
		<!-- End Gifts -->

		<!-- Footer -->
		<footer>
			<div class="container">
				<div class="row">
					<div class="col text-center">
						<small class="block">&copy;2024 Creavitation Web App. All Rights Reserved.</small>
					</div>
				</div>
			</div>
		</footer>
		<!-- End Footer -->


		<!-- CSS -->
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
		
		<!-- lightbox -->
		<script src="https://cdn.jsdelivr.net/npm/bs5-lightbox@1.8.3/dist/index.bundle.min.js"></script>
		
		<!-- countdown -->
		<script>
			// Ambil elemen
			var countdownElement = document.querySelector('.simply-countdown');

			// Ambil nilai dari atribut data
			var year = countdownElement.dataset.years;
			var month = countdownElement.dataset.months;
			var day = countdownElement.dataset.days;
			var hours = countdownElement.dataset.hours;
			var minutes = countdownElement.dataset.minutes;

			simplyCountdown('.simply-countdown', {
				year: year, // required
				month: month, // required
				day: day, // required
				hours: hours, // Default is 0 [0-23] integer
				minutes: minutes, // Default is 0 [0-59] integer
				seconds: 0, // Default is 0 [0-59] integer
				words: { //words displayed into the countdown
					days: { singular: 'hari', plural: 'days' },
					hours: { singular: 'jam', plural: 'hours' },
					minutes: { singular: 'menit', plural: 'minutes' },
					seconds: { singular: 'detik', plural: 'seconds' }
				},
				plural: false, //use plurals
			})
		</script>
		
		<!-- offcanvas navigation -->
		<script>
			const stickyTop = document.querySelector('.sticky-top');
			const offCanvas = document.querySelector('.offcanvas');

			offCanvas.addEventListener('show.bs.offcanvas', function () {
				stickyTop.style.overflow = 'visible';
			})
			
			offCanvas.addEventListener('hidden.bs.offcanvas', function () {
				stickyTop.style.overflow = 'hidden';
			})
		</script>

		<!-- stuck scroll -->
		<script>
			// set off scrolling bootstrap
			const rootElement = document.querySelector(":root");
			const codedataEelement = document.querySelector(".show-invitation");

			var codeInv = codedataEelement.dataset.codes;
			
			// disable scroll function
			function disableScroll() {
				const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
				const scrollLeft = window.pageXOffset || document.documentElement.scrollLeft;
				window.onscroll = function () {
					window.scrollTo(scrollTop, scrollLeft);
				}

				// set off scrolling bootstrap
				rootElement.style.scrollBehavior = 'auto';
			}

			// enable scroll function
			function enableScroll() {
				window.onscroll = function () {}

				// set on scrolling bootstrap
				rootElement.style.scrollBehavior = 'smooth';

				// localStorage.setItem('opened', 'true');
				localStorage.setItem(`${codeInv}`, 'true');
			}

			// run
			if(!localStorage.getItem(`${codeInv}`)) {
				disableScroll();
			}
		</script>
	</body>
</html>